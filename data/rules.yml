version: "2.0"
rules:
- rule: user asks the bot if the bot is a bot
  steps:
  - intent: bot_challenge
  - action: utter_iamabot
- rule: user asks how the bot works
  steps:
  - intent: how_it_works
  - action: utter_how_it_works
- rule: user asks not to bother them
  steps:
  - intent: dont_bother_me
  - action: action_do_not_disturb
  - action: utter_hope_to_see_you_later
- rule: someone else wants to chat and the user aggrees to join
  steps:
  - action: utter_someone_wants_to_chat
  - or:
    - intent: affirm
    - intent: want_chitchat
  - action: action_create_room
  - action: utter_room_url
- rule: user sends /start in Telegram
  steps:
  - intent: start
  - action: utter_greet_offer_chitchat
- rule: someone else asks the user to join a video chat
  steps:
  - intent: EXTERNAL_ask_to_join
  - action: action_ask_to_join
- rule: a partner agrees to join a video chat and the user receives the room url
  steps:
  - intent: EXTERNAL_join_room
  - action: action_join_room
